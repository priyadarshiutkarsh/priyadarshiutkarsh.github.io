---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/default",
    "theme/dark",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands",
    "vendor/magnific-popup/magnific-popup",

   
    "layout/mobile-nav"
;

/* iPhone-specific navigation fixes */
@media screen and (max-width: 767px) {
  /* Add space at the top for the navigation bar */
  body {
    padding-top: 60px !important;
  }
  
  /* Move the header line down a bit */
  body::before {
    content: "";
    position: fixed;
    top: 60px;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: var(--global-border-color);
    z-index: 1000;
  }
  
  /* Create a new fixed header specifically for mobile */
  body::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    background-color: var(--global-bg-color);
    z-index: 999;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  }
  
  /* Hide the default masthead */
  .masthead {
    display: none !important;
  }
  
  /* Add custom mobile navigation styling */
  .page {
    position: relative;
  }
  
  /* Create a mobile navigation bar with icons using pseudo-elements and CSS-only approach */
  .page::before {
    content: "☰";
    position: fixed;
    top: 0;
    left: 20px;
    font-size: 24px;
    line-height: 60px;
    color: var(--global-text-color);
    z-index: 1001;
    cursor: pointer;
  }
  
  /* Add theme toggle moon icon */
  .page::after {
    content: "☾";
    position: fixed;
    top: 0;
    right: 20px;
    font-size: 24px;
    line-height: 60px;
    color: var(--global-text-color);
    z-index: 1001;
    cursor: pointer;
  }
  
  /* Add site title to the mobile header */
  .breadcrumbs::before {
    content: "Utkarsh Priyadarshi";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    line-height: 60px;
    color: var(--global-text-color);
    z-index: 1000;
    pointer-events: none;
  }
  
  /* Ensure content starts below the fixed header */
  .page__content,
  .page__meta,
  .page__share {
    margin-top: 20px !important;
  }
  
  /* Style for dropdown navigation menu (appears when hamburger is clicked) */
  .mobile-nav-menu {
    display: none;
    position: fixed;
    top: 60px;
    left: 0;
    width: 100%;
    background-color: var(--global-bg-color);
    border-bottom: 1px solid var(--global-border-color);
    z-index: 998;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .mobile-nav-menu a {
    display: block;
    padding: 15px 20px;
    border-top: 1px solid var(--global-border-color);
    color: var(--global-text-color);
    text-align: center;
    text-decoration: none;
    font-size: 16px;
  }
  
  /* Add extra bottom padding to account for the fixed header */
  .page__footer {
    margin-top: 30px;
    padding-bottom: 30px;
  }
}
